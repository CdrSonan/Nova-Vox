#:kivy 2.0.0
#:import Factory kivy.factory.Factory
#:import uiScale UI.code.editor.uiScale
#:import mainColor UI.code.editor.mainColor
#:import accColor UI.code.editor.accColor
#:import bgColor UI.code.editor.bgColor
<NovaVoxUI>:
    FloatLayout:
        size: (root.width, root.height)
        canvas:
            Color:
                rgba: bgColor
            Rectangle:
                pos: (root.width - 50 * uiScale, 0)
                size:(50 * uiScale, root.height)
            Rectangle:
                pos: (0, root.height - 50 * uiScale)
                size:(root.width, 50 * uiScale)
        ImageButton:
            pos: (4 * uiScale, root.height - 49 * uiScale)
            size_hint: (None, None)
            size: (48 * uiScale, 48 * uiScale)
            imageNormal: "UI/assets/TopBar/logo.gif"
            on_press: Factory.LicensePanel().open()
        ImageButton:
            pos: (80 * uiScale, root.height - 40 * uiScale)
            size_hint: (None, None)
            size: (42 * uiScale, 30 * uiScale)
            imageNormal: "UI/assets/TopBar/Top01.png"
            on_press: root.spoolBack()
        ImageToggleButton:
            pos: (142 * uiScale, root.height - 45 * uiScale)
            size_hint: (None, None)
            size: (28 * uiScale, 40 * uiScale)
            imageNormal: "UI/assets/TopBar/Top02.png"
            id: playButton
            on_state: root.play(self.state)
        ImageButton:
            pos: (190 * uiScale, root.height - 40 * uiScale)
            size_hint: (None, None)
            size: (42 * uiScale, 30 * uiScale)
            imageNormal: "UI/assets/TopBar/Top03.png"
            on_press: root.spoolForward()
        ImageButton:
            pos: (260 * uiScale, root.height - 45 * uiScale)
            size_hint: (None, None)
            size: (40 * uiScale, 40 * uiScale)
            imageNormal: "UI/assets/TopBar/Top04.png"
            on_press: root.undo
        ImageButton:
            pos: (314 * uiScale, root.height - 45 * uiScale)
            size_hint: (None, None)
            size: (40 * uiScale, 40 * uiScale)
            imageNormal: "UI/assets/TopBar/Top05.png"
            on_press: root.redo
        ImageButton:
            pos: (root.width - 50 * uiScale, root.height - 100 * uiScale)
            size_hint: (None, None)
            size: (50 * uiScale, 50 * uiScale)
            imageNormal: "UI/assets/SideBar/Side01new.png"
            on_press: Factory.FileSidePanel().open()
        ImageButton:
            pos: (root.width - 50 * uiScale, root.height - 160 * uiScale)
            size_hint: (None, None)
            size: (50 * uiScale, 50 * uiScale)
            imageNormal: "UI/assets/SideBar/Side02new.png"
            on_press: Factory.SingerSidePanel().open()
        ImageButton:
            pos: (root.width - 50 * uiScale, root.height - 220 * uiScale)
            size_hint: (None, None)
            size: (50 * uiScale, 50 * uiScale)
            imageNormal: "UI/assets/SideBar/Side03new.png"
            on_press: Factory.ParamSidePanel().open()
        ImageButton:
            pos: (root.width - 50 * uiScale, root.height - 280 * uiScale)
            size_hint: (None, None)
            size: (50 * uiScale, 50 * uiScale)
            imageNormal: "UI/assets/SideBar/Side04new.png"
            on_press: Factory.ScriptingSidePanel().open()
        ImageButton:
            pos: (root.width - 50 * uiScale, root.height - 340 * uiScale)
            size_hint: (None, None)
            size: (50 * uiScale, 50 * uiScale)
            imageNormal: "UI/assets/SideBar/Side05new.png"
            on_press: Factory.SettingsSidePanel().open()
        ImageButton:
            pos: (root.width - 50 * uiScale, root.height - 400 * uiScale)
            size_hint: (None, None)
            size: (50 * uiScale, 50 * uiScale)
            imageNormal: "UI/assets/SideBar/Side06new.png"
        BoxLayout:
            orientation: "horizontal"
            pos: (0, 0)
            size_hint: (None, None)
            size: root.width - 50 * uiScale, root.height - 50 * uiScale
            Splitter:
                size_hint: (0.25, 1)
                sizable_from: "right"
                rescale_with_parent: True
                min_size: 100
                max_size: self.parent.width - 100
                strip_size: 5
                BoxLayout:
                    orientation: "vertical"
                    Splitter:
                        size_hint: (1, 0.75)
                        sizable_from: "bottom"
                        rescale_with_parent: True
                        max_size: self.parent.height - 100
                        strip_size: 5
                        Widget:
                            canvas:
                                Color:
                                    rgba: bgColor
                                Rectangle:
                                    pos: self.parent.pos
                                    size:(self.width, self.parent.height)
                            ScrollView:
                                pos: self.parent.pos
                                size:(self.parent.width, self.parent.height)
                                do_scroll: (False, True)
                                scroll_type: ["bars"]
                                bar_width: 10
                                BoxLayout:
                                    id: singerList
                                    size_hint: (None, None)
                                    orientation: "vertical"
                                    width: self.parent.width - 10
                                    height: self.minimum_height
                    Widget:
                        size_hint: (1, 0.25)
                        canvas:
                            Color:
                                rgba: bgColor
                            Rectangle:
                                pos: self.parent.pos
                                size:(self.width, self.height)
                        ScrollView:
                            pos: self.parent.pos
                            size:(self.parent.width, self.parent.height)
                            do_scroll: (False, True)
                            scroll_type: ["bars"]
                            bar_width: 10
                            BoxLayout:
                                id: paramList
                                size_hint: (None, None)
                                orientation: "vertical"
                                width: self.parent.width - 10
                                height: self.minimum_height
            BoxLayout:
                orientation: "vertical"
                size_hint: (0.75, 1)
                Splitter:
                    size_hint: (1, 0.75)
                    sizable_from: "bottom"
                    rescale_with_parent: True
                    max_size: self.parent.height - 100
                    strip_size: 5
                    FloatLayout:
                        Widget:
                            pos: self.parent.pos
                            size_hint: (1, None)
                            height: 40 * uiScale
                            canvas:
                                Color:
                                    rgba: bgColor
                                Rectangle:
                                    pos: self.parent.pos
                                    size:(self.width, 40 * uiScale)
                            BoxLayout:
                                pos: self.parent.pos
                                orientation: "horizontal"
                                padding: (2, 2)
                                ImageToggleButton:
                                    size_hint: (None, None)
                                    size: (40 * uiScale, 36 * uiScale)
                                    imageNormal: "UI/assets/Toolbar/Adaptive04new.png"
                                    group: "DisplayModes"
                                    on_press: root.setMode("notes")
                                    state: "down"
                                ImageToggleButton:
                                    size_hint: (None, None)
                                    size: (40 * uiScale, 36 * uiScale)
                                    imageNormal: "UI/assets/Toolbar/Adaptive05new.png"
                                    group: "DisplayModes"
                                    on_press: root.setMode("timing")
                                ImageToggleButton:
                                    size_hint: (None, None)
                                    size: (40 * uiScale, 36 * uiScale)
                                    imageNormal: "UI/assets/Toolbar/Adaptive06new.png"
                                    group: "DisplayModes"
                                    on_press: root.setMode("pitch")
                                AnchorLayout:
                                    anchor_x: "center"
                                    anchor_y: "center"
                                    size_hint: (None, None)
                                    size: (74, 36)
                                    ToggleButton:
                                        size_hint: (None, None)
                                        size: (70, 36)
                                        text: "draw"
                                        background_normal: "UI/assets/Toolbar/Adaptive08.png"
                                        background_down: "UI/assets/Toolbar/Adaptive07.png"
                                        group: "ToolButtons"
                                        on_press: root.setTool("draw")
                                        state: "down"
                                AnchorLayout:
                                    anchor_x: "center"
                                    anchor_y: "center"
                                    size_hint: (None, None)
                                    size: (74, 36)
                                    ToggleButton:
                                        size_hint: (None, None)
                                        size: (70, 36)
                                        text: "line"
                                        background_normal: "UI/assets/Toolbar/Adaptive08.png"
                                        background_down: "UI/assets/Toolbar/Adaptive07.png"
                                        group: "ToolButtons"
                                        on_press: root.setTool("line")
                                AnchorLayout:
                                    anchor_x: "center"
                                    anchor_y: "center"
                                    size_hint: (None, None)
                                    size: (74, 36)
                                    ToggleButton:
                                        size_hint: (None, None)
                                        size: (70, 36)
                                        text: "arch"
                                        background_normal: "UI/assets/Toolbar/Adaptive08.png"
                                        background_down: "UI/assets/Toolbar/Adaptive07.png"
                                        group: "ToolButtons"
                                        on_press: root.setTool("arch")
                                AnchorLayout:
                                    anchor_x: "center"
                                    anchor_y: "center"
                                    size_hint: (None, None)
                                    size: (74, 36)
                                    ToggleButton:
                                        size_hint: (None, None)
                                        size: (70, 36)
                                        text: "reset"
                                        background_normal: "UI/assets/Toolbar/Adaptive08.png"
                                        background_down: "UI/assets/Toolbar/Adaptive07.png"
                                        group: "ToolButtons"
                                        on_press: root.setTool("reset")
                            Spinner:
                                sync_height: True
                                background_normal: "UI/assets/Toolbar/Adaptive09.png"
                                background_down: "UI/assets/Toolbar/Adaptive09_clicked.png"
                                pos: (self.parent.x + self.parent.width - 122, self.parent.y + 2)
                                size_hint: (None, None)
                                size: (120, 36)
                                option_cls: Factory.get("BackdropOptn")
                                text: "backdrop"
                                values: ["param1", "param2", "param3", "param4", "param5"]
                        PianoRoll:
                            x: self.parent.x
                            y: self.parent.y + 40
                            size_hint: (1, None)
                            height: self.parent.height - 40
                            id: pianoRoll
                Widget:
                    pos: self.parent.pos
                    size_hint: (1, 0.25)
                    canvas:
                        Color:
                            rgba: (0.184, 0.184, 0.267, 1)
                        Rectangle:
                            pos: self.pos
                            size:(self.width, self.height)
                    AdaptiveSpace:
                        pos: self.parent.pos
                        size:(self.parent.width, self.parent.height)
                        id: adaptiveSpace

        #dark: 0.137 0.125 0.173
        #medium: 0.184 0.184 0.267
        #light: 0.204 0.204 0.294
        #toolbar: 0.322 0.259 0.463